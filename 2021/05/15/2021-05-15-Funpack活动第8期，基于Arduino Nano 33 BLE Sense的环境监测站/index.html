<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="John1175"><meta name="copyright" content="John1175"><meta name="generator" content="Hexo 6.3.0"><meta name="theme" content="hexo-theme-yun"><title>Funpack活动第8期，基于Arduino Nano 33 BLE Sense的环境监测站 | 涵尘</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"john1175.github.io","root":"/","title":["Han","Chen","John1175","Blog"],"version":"1.10.11","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"fireworks":{"colors":null},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="涵尘" type="application/atom+xml"><meta name="description" content="ArduinoArduino有着各种版本，是一个基于易用硬件和软件的开源电子平台。它适用于任何进行交互式项目的人，便捷灵活、方便上手。由于其简单易用的用户体验，Arduino已被用于数千个不同的项目和应用程序。Arduino软件易于初学者使用，对高级用户而言足够灵活。它可以在Mac，Windows和Linux上运行。  价格低廉 - 与其他微控制器平台相比，Arduino板相对便宜。最便宜的Ard">
<meta property="og:type" content="article">
<meta property="og:title" content="Funpack活动第8期，基于Arduino Nano 33 BLE Sense的环境监测站">
<meta property="og:url" content="https://john1175.github.io/2021/05/15/2021-05-15-Funpack%E6%B4%BB%E5%8A%A8%E7%AC%AC8%E6%9C%9F%EF%BC%8C%E5%9F%BA%E4%BA%8EArduino%20Nano%2033%20BLE%20Sense%E7%9A%84%E7%8E%AF%E5%A2%83%E7%9B%91%E6%B5%8B%E7%AB%99/index.html">
<meta property="og:site_name" content="涵尘">
<meta property="og:description" content="ArduinoArduino有着各种版本，是一个基于易用硬件和软件的开源电子平台。它适用于任何进行交互式项目的人，便捷灵活、方便上手。由于其简单易用的用户体验，Arduino已被用于数千个不同的项目和应用程序。Arduino软件易于初学者使用，对高级用户而言足够灵活。它可以在Mac，Windows和Linux上运行。  价格低廉 - 与其他微控制器平台相比，Arduino板相对便宜。最便宜的Ard">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://john1175.github.io/.io//Nano%E5%AE%B6%E6%97%8F.png">
<meta property="og:image" content="https://john1175.github.io/.io//Nano%E7%AE%A1%E8%84%9A%E7%A4%BA%E6%84%8F%E5%9B%BE.png">
<meta property="article:published_time" content="2021-05-15T11:18:19.000Z">
<meta property="article:modified_time" content="2023-10-24T13:44:06.715Z">
<meta property="article:author" content="John1175">
<meta property="article:tag" content="Funpack">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://john1175.github.io/.io//Nano%E5%AE%B6%E6%97%8F.png"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="John1175"><img width="96" loading="lazy" src="/yun.png" alt="John1175"></a><div class="site-author-name"><a href="/about/">John1175</a></div><span class="site-name">涵尘</span><sub class="site-subtitle">一个人的思索与生活</sub><div class="site-description">life,学习,硬件,孤独前行</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">33</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">10</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">10</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><span class="icon iconify" data-icon="ri:rss-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/John1175" title="GitHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:njszhangshihan@126.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="我的小伙伴们" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Arduino"><span class="toc-number">1.</span> <span class="toc-text">Arduino</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Arduino-Nano-33-BLE-Sense"><span class="toc-number">2.</span> <span class="toc-text">Arduino Nano 33 BLE Sense</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Arduino%E7%B3%BB%E5%88%97%E6%96%B0%E5%A2%9E%E5%9B%9B%E6%AC%BENano%E6%9D%BF"><span class="toc-number">2.0.1.</span> <span class="toc-text">Arduino系列新增四款Nano板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Arduino-Nano-33-BLE-Sense-1"><span class="toc-number">2.0.2.</span> <span class="toc-text">Arduino Nano 33 BLE Sense</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Machine-Learning"><span class="toc-number">3.</span> <span class="toc-text">Machine Learning</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E6%AC%A1%E6%8C%AB%E6%8A%98"><span class="toc-number">4.</span> <span class="toc-text">一次挫折</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B4%BB%E5%8A%A8%E4%BB%BB%E5%8A%A1"><span class="toc-number">5.</span> <span class="toc-text">活动任务</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E4%B8%80%EF%BC%9A%E6%8A%95%E7%AF%AE%E8%BF%90%E5%8A%A8%E6%89%8B%E6%9F%84"><span class="toc-number">5.0.0.0.1.</span> <span class="toc-text">任务一：投篮运动手柄</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%BB%E5%8A%A1%E4%BA%8C%EF%BC%9A%E7%8E%AF%E5%A2%83%E7%9B%91%E6%B5%8B%E7%AB%99"><span class="toc-number">5.0.0.0.2.</span> <span class="toc-text">任务二：环境监测站</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA"><span class="toc-number">6.</span> <span class="toc-text">代码展示</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BF%83%E5%BE%97%E4%BD%93%E4%BC%9A"><span class="toc-number">7.</span> <span class="toc-text">心得体会</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://john1175.github.io/2021/05/15/2021-05-15-Funpack%E6%B4%BB%E5%8A%A8%E7%AC%AC8%E6%9C%9F%EF%BC%8C%E5%9F%BA%E4%BA%8EArduino%20Nano%2033%20BLE%20Sense%E7%9A%84%E7%8E%AF%E5%A2%83%E7%9B%91%E6%B5%8B%E7%AB%99/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="John1175"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="涵尘"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Funpack活动第8期，基于Arduino Nano 33 BLE Sense的环境监测站</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="创建时间：2021-05-15 19:18:19" itemprop="dateCreated datePublished" datetime="2021-05-15T19:18:19+08:00">2021-05-15</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="修改时间：2023-10-24 21:44:06" itemprop="dateModified" datetime="2023-10-24T21:44:06+08:00">2023-10-24</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="本文字数">2.6k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="阅读时长">10m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%AD%A6%E4%B9%A0/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">学习</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/Funpack/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Funpack</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="Arduino"><a href="#Arduino" class="headerlink" title="Arduino"></a>Arduino</h1><p>Arduino有着各种版本，是一个基于易用硬件和软件的开源电子平台。它适用于任何进行交互式项目的人，便捷灵活、方便上手。由于其简单易用的用户体验，Arduino已被用于数千个不同的项目和应用程序。Arduino软件易于初学者使用，对高级用户而言足够灵活。它可以在Mac，Windows和Linux上运行。</p>
<ul>
<li>价格低廉 - 与其他微控制器平台相比，Arduino板相对便宜。最便宜的Arduino模块可以手工组装，甚至预先组装的Arduino模块也不到50美元。</li>
<li>跨平台 - Arduino软件（IDE）可在Windows，Macintosh OSX和Linux操作系统上运行。大多数微控制器系统仅限于Windows。</li>
<li>简单，清晰的编程环境 - Arduino软件（IDE）易于初学者使用，同时又具有足够的灵活性，可供高级用户利用。对于教师来说，它可以方便地基于Processing编程环境，因此学习在该环境中编程的学生将熟悉Arduino IDE的工作原理。</li>
<li>开源和可扩展软件 - Arduino软件作为开源工具发布，可供有经验的程序员使用。可以通过C ++库扩展语言，想要了解技术细节的人可以从Arduino跳转到它所基于的AVR C编程语言。同样，如果您愿意，可以将AVR-C代码直接添加到Arduino程序中。</li>
<li>开源和可扩展硬件 - Arduino板的计划在Creative Commons许可下发布，因此经验丰富的电路设计人员可以制作自己的模块版本，扩展并改进。即使是相对缺乏经验的用户也可以构建模块的面包板版本，以便了解它的工作原理并节省资金。</li>
</ul>
<h1 id="Arduino-Nano-33-BLE-Sense"><a href="#Arduino-Nano-33-BLE-Sense" class="headerlink" title="Arduino Nano 33 BLE Sense"></a>Arduino Nano 33 BLE Sense</h1><h3 id="Arduino系列新增四款Nano板"><a href="#Arduino系列新增四款Nano板" class="headerlink" title="Arduino系列新增四款Nano板"></a>Arduino系列新增四款Nano板</h3><img src="/.io//Nano家族.png" style="zoom:75%;" loading="lazy">

<p>从左到右为：Every、33 IoT、33 BLE、BLE Sense。</p>
<p><strong>Arduino Nano Every板卡</strong> </p>
<ul>
<li>MCU–Microchip ATMega4809 AVR 单片机@20 MHz，拥有48KB flash, 6KB SRAM, 256 Bytes EEPROM；</li>
<li>USB-通过Microchip ATSAMD11D14A Arm Cortex-M0+USB单片机实现的USB转串口；</li>
<li>2x15-pin拓展口包含GPIO,SPI,I2C, USART,PWM,ADC,DAC,复位，以及电源脚 (+5V, +3.3V, GND, Vin, AREF, …)；</li>
<li>尺寸-与原来的 Arduino Nano兼容；</li>
</ul>
<p><strong>Arduino Nano 33 IoT板卡</strong> </p>
<ul>
<li>MCU–Arm Cortex-M0+内核的Microchip SAMD21G18A单片机@最高48MHz拥有256KB Flash,32KB SRAM</li>
<li>无线模块–NINA W102 ESP32 WiFI+蓝牙模块通过SPI和串口与SAMD21单片机连接</li>
<li>2x15-pin拓展口包含GPIO,SPI,I2C,USART,PWM,ADC,DAC,复位,以及电源脚(+5V,+3.3V,GND,Vin,AREF, …)</li>
<li>传感器–6轴加速度计和陀螺仪</li>
<li>硬件加密模块–Microchip ATECC608A 安全加密芯片</li>
<li>调试–通过micro USB口, 也支持6-pin SWD接口</li>
<li>尺寸-与原来的Arduino Nano兼容</li>
</ul>
<p><strong>Arduino Nano 33 BLE板卡</strong> </p>
<ul>
<li>无线模块–基于Nordic nRF52480 Arm Cortex-M4F单片机@64MHz,1MB Flash, 256KB RAM以及BLE5.0的U-blox NINA B306模块；</li>
<li>拓展–2x15-pin 拓展口包含GPIO,SPI,I2C,USART,PWM,ADC,DAC,复位,以及电源脚 (+5V, +3.3V,GND,Vin,AREF, …)；</li>
<li>传感器–9轴加速度计，陀螺仪，磁力计；</li>
<li>调试–通过micro USB口,也支持6-pin SWD接口；</li>
<li>尺寸–与原来的 Arduino Nano兼容；</li>
</ul>
<p>Nano 33 BLE跟其他同尺寸的板子相比有着更低的功耗使得他更适合可穿戴设备和运动传感项目。同时因为支持蓝牙5.0，这板子也成为一些自动化项目的理想选择。</p>
<p><strong>Arduino Nano BLE Sense板卡</strong> </p>
<p>Arduino Nano BLE Sense基本与Nano 33 BLE相同包含有额外的传感器和硬件加密模块：</p>
<ul>
<li>无线模块–基于Nordic nRF52480 Arm Cortex-M4F单片机@ 64MHz, 1MB Flash, 256KB RAM以及BLE5.0的 U-blox NINA B306 模块</li>
<li>拓展–2x 15-pin 拓展口包含 GPIO, SPI, I2C, USART, PWM, ADC, DAC, 复位, 以及电源脚 (+5V, +3.3V, GND, Vin, AREF, …)</li>
<li>传感器–9轴加速度计，陀螺仪，磁力计,温度，压力，湿度，光线，颜色，手势识别以及数字麦克风</li>
<li>硬件加密模块 – Microchip ATECC608A 安全加密芯片</li>
<li>调试–通过 micro USB 口, 也支持6-pin SWD接口</li>
<li>尺寸–与原来的Arduino Nano兼容</li>
</ul>
<p>板载的额外的传感器使得这板子支持自动化应用和互动式可穿戴设备应用。</p>
<h3 id="Arduino-Nano-33-BLE-Sense-1"><a href="#Arduino-Nano-33-BLE-Sense-1" class="headerlink" title="Arduino Nano 33 BLE Sense"></a>Arduino Nano 33 BLE Sense</h3><ul>
<li><p>基于nRF52840微控制器</p>
</li>
<li><p>工作电压：3.3V</p>
</li>
<li><p>输入电压（极限）：21V</p>
</li>
<li><p>单片机：nRF52840</p>
</li>
<li><p>每个I &#x2F; O引脚的直流电流15mA</p>
</li>
<li><p>时钟速度64MHz</p>
</li>
<li><p>CPU闪存1MB</p>
</li>
<li><p>SRAM 256KB</p>
</li>
<li><p>数字输入&#x2F;输出引脚14</p>
</li>
<li><p>UART ：1</p>
</li>
<li><p>SPI ：1</p>
</li>
<li><p>I2C ：1</p>
</li>
<li><p>长度45毫米</p>
</li>
<li><p>宽度18毫米</p>
</li>
<li><p>重量5克</p>
</li>
</ul>
<p><img src="/.io//Nano%E7%AE%A1%E8%84%9A%E7%A4%BA%E6%84%8F%E5%9B%BE.png" loading="lazy"></p>
<h1 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h1><p>该板的主要功能还在于可以使用TinyML在其上运行边缘计算应用程序（AI）。您可以使用TensorFlow™Lite创建机器学习模型，然后使用Arduino IDE将其上传到开发板上。</p>
<p>TinyML是一种微型机器学习。微型机器学习是机器学习和物联网设备的交集，它是一门新兴的工程学科，有可能在许多行业引发革命。</p>
<p>由于分布最广的物联网设备往往体积很小、电量有限。它们被作为终端硬件，通过嵌入式传感器采集各种数据；计算能力有限，对功耗极为敏感。某些情况下，将这类设备连接到边缘侧以便实现智能，在成本上并不划算。</p>
<p>TinyML将为数以亿计的物联网终端设备带来“生命”，它将引发的变革不容小觑。</p>
<p>而直接在微处理器中嵌入人工智能，成为消费和工业物联网场景的关键。这种方法并不依赖于外部程序，也不依赖边缘和云端。这种方案能够提供最佳的实时响应，同时对隐私提供极大保护。</p>
<p>消费者对于隐私问题的担忧，成为TinyML发展的推动力，很多公司为了响应消费者需求，正在开发功耗更低、响应速度更快、隐私保护更佳的设备。</p>
<p>具备TinyML的可穿戴设备，可以脱离云端持续监测用户的睡眠水平、心率体征等健康数据。TinyML胰岛素泵可以在不必时刻保持网络连接的情况下，根据血糖水平自动释放胰岛素。这些不必时刻联网的设备，让数据处于私有状态，更加安全并保护隐私。</p>
<p>且目前越来越多的物联网企业正在将分析的重点从视频转移到音频。而对音频的分析正是TinyML的一个发力点，TinyML可能即将开启音频分析的新蓝海。</p>
<h1 id="一次挫折"><a href="#一次挫折" class="headerlink" title="一次挫折"></a>一次挫折</h1><p>我在一次测试中</p>
<p>验证成功，并成功烧录了</p>
<p>但是之后，Arduino无法被系统识别，端口无法识别，重新连接，系统提示无法识别usb设备</p>
<p>在网上收集资料和询问群友之后，我开始进行自救，毕竟作业还未开始，作业本就没了。欲哭无泪，我的300元啊。</p>
<p>在进行双击复位后，系统提示无法识别usb设备。</p>
<p>最后我在不指定端口的情况下，烧录了历程，设备成功复活，万岁！</p>
<h1 id="活动任务"><a href="#活动任务" class="headerlink" title="活动任务"></a>活动任务</h1><p>活动参与者可从下面两个任务中任选其一完成：</p>
<h5 id="任务一：投篮运动手柄"><a href="#任务一：投篮运动手柄" class="headerlink" title="任务一：投篮运动手柄"></a><strong>任务一：投篮运动手柄</strong></h5><p>利用NANO-33 BLE的加速度及角速度感应器，设计一款用于虚拟练习投篮的手柄。</p>
<p>投篮者可通过手持手柄(开发板)模拟投篮动作，而手柄会根据初始物理参数(可由用户设定或者系统默认值)，对投篮者的命中率作出预判，并且可以将改进建议的信息反馈给投篮者。优秀的模拟投篮手柄的确可以帮助用户提高投篮命中率。</p>
<p>以下参数可作为参考，通常：</p>
<ul>
<li>篮筐高度：3.05m</li>
<li>罚球线投篮距离：4.5m</li>
<li>篮球质量：620g</li>
</ul>
<h5 id="任务二：环境监测站"><a href="#任务二：环境监测站" class="headerlink" title="任务二：环境监测站"></a><strong>任务二：环境监测站</strong></h5><p>利用NANO-33 BLE的传感器，搭建一个小型环境监测站用于监测户外环境。待监测的参数包括：</p>
<ul>
<li>周边环境温度（精度：±0.1°C, ±0.1°F）</li>
<li>周边环境湿度（精度：±1%）</li>
<li>大气压强（精度：±0.1kPa, ±0.1psi）</li>
<li>日照强度（用于判断白天&#x2F;夜晚）</li>
<li>周边平均噪声（精度：±1dB）</li>
</ul>
<p>其中任务一和任务二的数据信息反馈方式可采用以下任意一种方式:</p>
<ol>
<li>通过对开发板外接显示屏显示</li>
<li>通过蓝牙在电脑端口显示</li>
<li>通过手机APP</li>
</ol>
<h1 id="代码展示"><a href="#代码展示" class="headerlink" title="代码展示"></a>代码展示</h1><p>所用库</p>
<pre class="language-c++" data-language="c++"><code class="language-c++">#include &lt;Arduino_LPS22HB.h&gt;
#include &lt;Arduino_HTS221.h&gt;
#include &lt;Arduino_APDS9960.h&gt;
#include &lt;PDM.h&gt;
#include &lt;Wire.h&gt;
#include &lt;Adafruit_GFX.h&gt;
#include &lt;Adafruit_SSD1306.h&gt;</code></pre>

<p>传感器数据读取</p>
<pre class="language-c++" data-language="c++"><code class="language-c++">pressure &#x3D; BARO.readPressure();

f_temperature &#x3D; HTS.readTemperature(FAHRENHEIT);
c_temperature &#x3D; (f_temperature - 32) &#x2F; 1.8;

humidity    &#x3D; HTS.readHumidity();


while ( APDS.colorAvailable()) &#123;
  APDS.readColor(r, g, b, a);
  Serial.println(&quot;a:&quot;);
  Serial.println(a);
&#125;

&#x2F;&#x2F;计算周边平均噪声
while (!samplesRead);
&#123;
  uint32_t sample_max &#x3D; 0;
  for (int i &#x3D; 0; i &lt; samplesRead; i++) &#123;
    if (sampleBuffer[i] &lt; 0)
      sampleBuffer[i] &#x3D; -sampleBuffer[i];
    if (sampleBuffer[i] &gt; sample_max)
      sample_max &#x3D; sampleBuffer[i];
  &#125;
  sample &#x3D; 24 * log10(sample_max * 5);
&#125;
samplesRead &#x3D; 0;</code></pre>

<p>数据打印</p>
<pre class="language-c++" data-language="c++"><code class="language-c++">&#x2F;&#x2F;显示周边环境温度
display.print(F(&quot;Temperature:&quot;));
display.print(c_temperature);
display.println(F(&quot;C&quot;));

&#x2F;&#x2F;显示周边环境湿度
display.print(F(&quot;Humidity:&quot;));
display.print(humidity);
display.println(F(&quot;%&quot;));

&#x2F;&#x2F;显示大气压强
display.print(F(&quot;Atmosphere:&quot;));
display.print(pressure);
display.println(F(&quot;kPa&quot;));

&#x2F;&#x2F;判断白天&#x2F;夜晚
display.print(F(&quot;Irradiance:&quot;));
if (a &gt;&#x3D; 3) &#123;
  display.println(F(&quot;day &quot;));
&#125; else &#123;
  display.println(F(&quot;night &quot;));
&#125;

&#x2F;&#x2F;显示周边平均噪声
display.print(F(&quot;Noise:&quot;));
display.print(sample);
display.println(F(&quot;dB&quot;));</code></pre>



<h1 id="心得体会"><a href="#心得体会" class="headerlink" title="心得体会"></a>心得体会</h1><p>本期的Arduino构架吸引来了很多人，但是一开始的进口清关，以及一些Digi-Key的失误打灭了很多人的热情，我的一个学弟也因此而退款放弃，很是可惜。</p>
<p>从个人来说，我轻视了Arduino，他比我想象中要难。我习惯了那种右键-跳转到申明的过程，Arduino这种近似“黑箱”的内部设计让我无从下手。加上事多，无法很好的进行深入学习，遗憾。</p>
</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><span class="icon iconify" data-icon="ri:hand-coin-line"></span></span><div id="reward-comment">I'm so cute. Please give me money.</div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>John1175</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://john1175.github.io/2021/05/15/2021-05-15-Funpack%E6%B4%BB%E5%8A%A8%E7%AC%AC8%E6%9C%9F%EF%BC%8C%E5%9F%BA%E4%BA%8EArduino%20Nano%2033%20BLE%20Sense%E7%9A%84%E7%8E%AF%E5%A2%83%E7%9B%91%E6%B5%8B%E7%AB%99/" title="Funpack活动第8期，基于Arduino Nano 33 BLE Sense的环境监测站">https://john1175.github.io/2021/05/15/2021-05-15-Funpack%E6%B4%BB%E5%8A%A8%E7%AC%AC8%E6%9C%9F%EF%BC%8C%E5%9F%BA%E4%BA%8EArduino%20Nano%2033%20BLE%20Sense%E7%9A%84%E7%8E%AF%E5%A2%83%E7%9B%91%E6%B5%8B%E7%AB%99/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/06/17/2021-06-17-Funpack%E6%B4%BB%E5%8A%A8%E7%AC%AC9%E6%9C%9F%EF%BC%8C%E5%9F%BA%E4%BA%8ESensorTile.box%E7%9A%84%E5%9B%9B%E9%9D%A2%E5%8A%9F%E8%83%BD%E6%98%BE%E7%A4%BA/" rel="prev" title="Funpack活动第9期，基于SensorTile.box的四面功能显示"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">Funpack活动第9期，基于SensorTile.box的四面功能显示</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/03/27/2021-03-27-KiCad%E5%AE%89%E8%A3%85%E5%B0%8F%E8%AE%A1/" rel="next" title="KiCad安装小记"><span class="post-nav-text">KiCad安装小记</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2020 – 2023 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> John1175</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v6.3.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.11</span></div><div class="live-time"><span>Elapsed time is</span><span id="display_live_time"></span><span class="moe-text">(��'?'��)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2020-02-04T20:58:20');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} 天 ${passHour} 小时 ${passMinute} 分 ${passSecond} 秒`;
}
blog_live_time();
</script></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></body></html>